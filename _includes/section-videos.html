<!-- #region Videos que no te destruyen la psiquis -->
{% assign edicion_actual = site.ediciones | where: "edicion_actual", true | first %}
{% if edicion_actual == nil %}
  {% assign ediciones_ordenadas = site.ediciones | sort: "numero" %}
  {% assign edicion_actual = ediciones_ordenadas | last %}
{% endif %}

{% assign videos = edicion_actual.videos %}

<div class="bg-videos">
  <!-- DEBUG: esto no debería verse en producción, pero ahora nos sirve -->
  <pre style="font-size: 12px; line-height: 1.4; padding: 8px; border: 1px solid #ccc; margin-bottom: 16px;">
EDICION_ACTUAL:
  numero: {{ edicion_actual.numero }}
  titulo: {{ edicion_actual.titulo }}
  tiene_videos?: {% if videos %}sí{% else %}no{% endif %}
  cantidad_videos: {% if videos %}{{ videos | size }}{% else %}0{% endif %}
  </pre>

  {% if videos and videos.size > 0 %}
  <div class="supervids">
    <div class="headervids">
      <img src="youpause.svg" height="40px" alt="">
      <h1>Videos</h1>
      <p>que no te destruyen la psiquis</p>
    </div>
    <div class="lineavidheader"></div>

    <div class="containervids">
      {% for video in videos limit: 3 %}
      <div class="vids">
        <a href="{{ video.link }}" class="vid-link" target="_blank"></a>
        <div class="bg-container-vids">
          <img src="{{ video.imagen }}" alt="{{ video.titulo }}" class="bg-vids">
        </div>
        {% if video.badge %}
        <div class="vid-badge">{{ video.badge }}</div>
        {% endif %}
        <h1>{{ video.titulo }}</h1>
        <div class="lineavid"></div>
        <p>{{ video.descripcion }}</p>
      </div>
      {% endfor %}
    </div>
  </div>
  {% else %}
  <p>No hay videos cargados para la edición actual.</p>
  {% endif %}
</div>
<!-- #endregion -->
